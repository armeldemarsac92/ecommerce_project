image: docker:24.0.7

services:
  - name: docker:24.0.7-dind
  - alias: docker

variables:
  # Docker configuration
  DOCKER_HOST: tcp://docker:2375
  DOCKER_TLS_CERTDIR: ""
  DOCKER_DRIVER: overlay2

stages:
  - build

build:
  stage: build
  script:
    # Wait for Docker to be ready..
    - for i in $(seq 1 30); do docker info && break || sleep 1; done
    # Build the Docker image for your repository
    - docker -v
    - docker build -t t-dev-702-api:latest .
    # List Docker images to verify the build
    - docker images